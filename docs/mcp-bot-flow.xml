<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1465.50048828125 3416.078125" style="max-width: 1465.50048828125px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37"><style>#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .error-icon{fill:#a44141;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edge-thickness-normal{stroke-width:1px;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .marker.cross{stroke:lightgrey;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 p{margin:0;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .cluster-label text{fill:#F9FFFE;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .cluster-label span{color:#F9FFFE;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .cluster-label span p{background-color:transparent;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .label text,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 span{fill:#ccc;color:#ccc;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node rect,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node circle,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node ellipse,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node polygon,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .rough-node .label text,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node .label text,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .image-shape .label,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .icon-shape .label{text-anchor:middle;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .rough-node .label,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node .label,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .image-shape .label,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .icon-shape .label{text-align:center;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .node.clickable{cursor:pointer;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .arrowheadPath{fill:lightgrey;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .cluster text{fill:#F9FFFE;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .cluster span{color:#F9FFFE;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 rect.text{fill:none;stroke-width:0;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .icon-shape,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .icon-shape p,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .icon-shape rect,#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .http&gt;*{fill:#e3f2fd!important;stroke:#1976d2!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .http span{fill:#e3f2fd!important;stroke:#1976d2!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .http tspan{fill:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .service&gt;*{fill:#e8f5e8!important;stroke:#388e3c!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .service span{fill:#e8f5e8!important;stroke:#388e3c!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .service tspan{fill:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .agent&gt;*{fill:#fff3e0!important;stroke:#f57c00!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .agent span{fill:#fff3e0!important;stroke:#f57c00!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .agent tspan{fill:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .tool&gt;*{fill:#f3e5f5!important;stroke:#7b1fa2!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .tool span{fill:#f3e5f5!important;stroke:#7b1fa2!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .tool tspan{fill:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .llm&gt;*{fill:#fce4ec!important;stroke:#c2185b!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .llm span{fill:#fce4ec!important;stroke:#c2185b!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .llm tspan{fill:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .decision&gt;*{fill:#fff9c4!important;stroke:#f57f17!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .decision span{fill:#fff9c4!important;stroke:#f57f17!important;stroke-width:3px!important;color:#000000!important;}#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37 .decision tspan{fill:#000000!important;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_START_CHAT_0" d="M753.498,86.008L753.498,90.174C753.498,94.341,753.498,102.674,753.498,110.341C753.498,118.008,753.498,125.008,753.498,128.508L753.498,132.008"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CHAT_MCP_1" d="M753.498,214.016L753.498,218.182C753.498,222.349,753.498,230.682,753.568,238.432C753.639,246.183,753.779,253.349,753.849,256.933L753.92,260.516"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MCP_NEED_2" d="M696.274,484.799L684.978,500.504C673.682,516.208,651.091,547.617,639.87,568.905C628.649,590.193,628.797,601.36,628.872,606.944L628.946,612.528"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MCP_DIRECT_3" d="M860.382,436.14L938.235,459.954C1016.088,483.768,1171.794,531.397,1249.647,584.545C1327.5,637.694,1327.5,696.363,1327.5,755.031C1327.5,813.7,1327.5,872.368,1327.5,907.203C1327.5,942.038,1327.5,953.038,1327.5,958.539L1327.5,964.039"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NEED_PROCESS_4" d="M608.756,874.292L607.046,883.749C605.337,893.207,601.917,912.122,600.208,927.08C598.498,942.038,598.498,953.038,598.498,958.539L598.498,964.039"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NEED_DIRECT_5" d="M734.397,789.137L808.748,812.787C883.099,836.437,1031.8,883.737,1117.486,913.248C1203.172,942.759,1225.842,954.48,1237.177,960.341L1248.512,966.202"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PROCESS_ANALYZE_6" d="M468.498,1026.901L420.331,1034.259C372.164,1041.616,275.83,1056.332,227.663,1067.189C179.496,1078.047,179.496,1085.047,179.496,1088.547L179.496,1092.047"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ANALYZE_LLM_ANALYZE_7" d="M179.496,1174.055L179.496,1178.221C179.496,1182.388,179.496,1190.721,179.496,1213.054C179.496,1235.387,179.496,1271.72,179.496,1289.886L179.496,1308.053"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LLM_ANALYZE_TASKS_8" d="M179.496,1414.064L179.496,1434.898C179.496,1455.731,179.496,1497.398,179.496,1523.731C179.496,1550.065,179.496,1561.066,179.496,1566.566L179.496,1572.066"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PROCESS_EXECUTE_9" d="M695.698,1046.047L706.082,1050.214C716.466,1054.38,737.233,1062.714,747.616,1070.38C758,1078.047,758,1085.047,758,1088.547L758,1092.047"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EXECUTE_TASK_TYPE_10" d="M758,1174.055L758,1178.221C758,1182.388,758,1190.721,758.07,1198.471C758.141,1206.222,758.281,1213.389,758.351,1216.972L758.422,1220.555"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TASK_TYPE_TOOL_CALL_11" d="M675.673,1419.736L646.144,1439.624C616.615,1459.512,557.558,1499.288,528.029,1524.677C498.5,1550.065,498.5,1561.066,498.5,1566.566L498.5,1572.066"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TASK_TYPE_SIMPLE_12" d="M847.164,1413.899L883.97,1434.76C920.776,1455.621,994.388,1497.342,1031.194,1530.871C1068,1564.4,1068,1589.735,1068,1613.07C1068,1636.405,1068,1657.74,1068,1679.074C1068,1700.409,1068,1721.743,1068,1743.078C1068,1764.413,1068,1785.747,1068,1807.082C1068,1828.417,1068,1849.751,1068,1873.086C1068,1896.421,1068,1921.757,1068,1947.092C1068,1972.427,1068,1997.762,1068,2021.097C1068,2044.432,1068,2065.767,1068,2087.102C1068,2108.436,1068,2129.771,1068,2151.105C1068,2172.44,1068,2193.775,1068,2229.268C1068,2264.761,1068,2314.413,1068,2366.065C1068,2417.717,1068,2471.369,1068,2503.696C1068,2536.022,1068,2547.023,1068,2552.523L1068,2558.023"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TOOL_CALL_CLIENT_13" d="M498.5,1654.074L498.5,1658.241C498.5,1662.408,498.5,1670.741,498.5,1678.408C498.5,1686.074,498.5,1693.074,498.5,1696.574L498.5,1700.074"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CLIENT_WEBSOCKET_14" d="M498.5,1782.082L498.5,1786.249C498.5,1790.415,498.5,1798.749,498.5,1806.415C498.5,1814.082,498.5,1821.082,498.5,1824.582L498.5,1828.082"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WEBSOCKET_SERVER_15" d="M498.5,1910.09L498.5,1916.257C498.5,1922.424,498.5,1934.758,498.5,1946.425C498.5,1958.092,498.5,1969.093,498.5,1974.593L498.5,1980.094"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SERVER_REGISTRY_16" d="M498.5,2062.102L498.5,2066.268C498.5,2070.435,498.5,2078.768,498.5,2086.435C498.5,2094.102,498.5,2101.102,498.5,2104.602L498.5,2108.102"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_REGISTRY_TOOL_ROUTE_17" d="M498.5,2190.109L498.5,2194.276C498.5,2198.443,498.5,2206.776,498.57,2214.526C498.64,2222.276,498.781,2229.443,498.851,2233.027L498.921,2236.61"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TOOL_ROUTE_JOJO_18" d="M413.306,2402.825L367.421,2423.191C321.537,2443.557,229.769,2484.289,183.884,2510.156C138,2536.022,138,2547.023,138,2552.523L138,2558.023"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TOOL_ROUTE_WEATHER_19" d="M469.397,2458.917L465.831,2469.934C462.265,2480.952,455.132,2502.987,451.566,2519.504C448,2536.022,448,2547.023,448,2552.523L448,2558.023"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TOOL_ROUTE_OTHER_20" d="M575.503,2412.016L605.919,2430.85C636.335,2449.685,697.168,2487.353,727.584,2511.688C758,2536.022,758,2547.023,758,2552.523L758,2558.023"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_JOJO_TOOL_RESULT_21" d="M138,2640.031L138,2644.198C138,2648.365,138,2656.698,184.936,2669.471C231.871,2682.244,325.743,2699.457,372.678,2708.064L419.614,2716.67"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WEATHER_TOOL_RESULT_22" d="M448,2640.031L448,2644.198C448,2648.365,448,2656.698,458.69,2668.64C469.38,2680.582,490.76,2696.132,501.45,2703.907L512.141,2711.682"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_OTHER_TOOL_RESULT_23" d="M758,2640.031L758,2644.198C758,2648.365,758,2656.698,736.543,2668.801C715.086,2680.903,672.172,2696.775,650.715,2704.712L629.258,2712.648"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SIMPLE_SIMPLE_LLM_24" d="M1068,2640.031L1068,2644.198C1068,2648.365,1068,2656.698,1068,2664.365C1068,2672.031,1068,2679.031,1068,2682.531L1068,2686.031"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TOOL_RESULT_FINAL_25" d="M552.5,2768.039L552.5,2776.206C552.5,2784.374,552.5,2800.708,590.261,2815.58C628.021,2830.451,703.541,2843.859,741.301,2850.563L779.062,2857.267"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SIMPLE_LLM_FINAL_26" d="M1068,2792.043L1068,2796.21C1068,2800.376,1068,2808.71,1058.526,2816.789C1049.051,2824.867,1030.103,2832.692,1020.628,2836.604L1011.154,2840.516"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FINAL_FINAL_LLM_27" d="M913,2920.051L913,2924.217C913,2928.384,913,2936.717,913,2944.384C913,2952.051,913,2959.051,913,2962.551L913,2966.051"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FINAL_LLM_STREAM_28" d="M913,3072.063L913,3076.229C913,3080.396,913,3088.729,913,3096.396C913,3104.063,913,3111.063,913,3114.563L913,3118.063"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DIRECT_DIRECT_STREAM_29" d="M1327.5,1046.047L1327.5,1050.214C1327.5,1054.38,1327.5,1062.714,1327.5,1070.38C1327.5,1078.047,1327.5,1085.047,1327.5,1088.547L1327.5,1092.047"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_STREAM_OUTPUT_30" d="M913,3200.07L913,3204.237C913,3208.404,913,3216.737,924.787,3224.858C936.575,3232.98,960.149,3240.889,971.937,3244.843L983.724,3248.798"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DIRECT_STREAM_OUTPUT_31" d="M1327.5,1174.055L1327.5,1178.221C1327.5,1182.388,1327.5,1190.721,1327.5,1222.222C1327.5,1253.723,1327.5,1308.391,1327.5,1365.059C1327.5,1421.727,1327.5,1480.396,1327.5,1522.398C1327.5,1564.4,1327.5,1589.735,1327.5,1613.07C1327.5,1636.405,1327.5,1657.74,1327.5,1679.074C1327.5,1700.409,1327.5,1721.743,1327.5,1743.078C1327.5,1764.413,1327.5,1785.747,1327.5,1807.082C1327.5,1828.417,1327.5,1849.751,1327.5,1873.086C1327.5,1896.421,1327.5,1921.757,1327.5,1947.092C1327.5,1972.427,1327.5,1997.762,1327.5,2021.097C1327.5,2044.432,1327.5,2065.767,1327.5,2087.102C1327.5,2108.436,1327.5,2129.771,1327.5,2151.105C1327.5,2172.44,1327.5,2193.775,1327.5,2229.268C1327.5,2264.761,1327.5,2314.413,1327.5,2366.065C1327.5,2417.717,1327.5,2471.369,1327.5,2510.863C1327.5,2550.357,1327.5,2575.692,1327.5,2599.027C1327.5,2622.362,1327.5,2643.697,1327.5,2667.032C1327.5,2690.367,1327.5,2715.702,1327.5,2741.037C1327.5,2766.372,1327.5,2791.708,1327.5,2815.043C1327.5,2838.378,1327.5,2859.712,1327.5,2881.047C1327.5,2902.382,1327.5,2923.716,1327.5,2947.051C1327.5,2970.386,1327.5,2995.721,1327.5,3021.057C1327.5,3046.392,1327.5,3071.727,1327.5,3095.062C1327.5,3118.397,1327.5,3139.732,1327.5,3161.066C1327.5,3182.401,1327.5,3203.736,1304.412,3219.03C1281.324,3234.324,1235.149,3243.577,1212.061,3248.204L1188.973,3252.83"></path><path marker-end="url(#mermaid-87d09cbb-9c3e-4f39-a67c-d77810773c37_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_OUTPUT_END_32" d="M1068,3304.074L1068,3308.241C1068,3312.408,1068,3320.741,1068,3328.408C1068,3336.074,1068,3343.074,1068,3346.574L1068,3350.074"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(628.4996738433838, 579.025390625)" class="edgeLabel"><g transform="translate(-16.00260353088379, -12.001953125)" class="label"><foreignObject height="24.00390625" width="32.00520706176758"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>成功</p></span></div></foreignObject></g></g><g transform="translate(1327.500325202942, 755.03125)" class="edgeLabel"><g transform="translate(-16.00260353088379, -12.001953125)" class="label"><foreignObject height="24.00390625" width="32.00520706176758"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>失败</p></span></div></foreignObject></g></g><g transform="translate(598.498046875, 931.037109375)" class="edgeLabel"><g transform="translate(-16.00260353088379, -12.001953125)" class="label"><foreignObject height="24.00390625" width="32.00520706176758"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>需要</p></span></div></foreignObject></g></g><g transform="translate(1180.5016269683838, 931.037109375)" class="edgeLabel"><g transform="translate(-24.00065040588379, -12.001953125)" class="label"><foreignObject height="24.00390625" width="48.00130081176758"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>不需要</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(498.4996747970581, 1539.064453125)" class="edgeLabel"><g transform="translate(-32.001953125, -12.001953125)" class="label"><foreignObject height="24.00390625" width="64.00390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>工具调用</p></span></div></foreignObject></g></g><g transform="translate(1068, 1947.091796875)" class="edgeLabel"><g transform="translate(-32.001953125, -12.001953125)" class="label"><foreignObject height="24.00390625" width="64.00390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>简单对话</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(138, 2525.021484375)" class="edgeLabel"><g transform="translate(-14.453125, -12.001953125)" class="label"><foreignObject height="24.00390625" width="28.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>jojo</p></span></div></foreignObject></g></g><g transform="translate(448, 2525.021484375)" class="edgeLabel"><g transform="translate(-29.53775978088379, -12.001953125)" class="label"><foreignObject height="24.00390625" width="59.07551956176758"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>weather</p></span></div></foreignObject></g></g><g transform="translate(758, 2525.021484375)" class="edgeLabel"><g transform="translate(-16.00260353088379, -12.001953125)" class="label"><foreignObject height="24.00390625" width="32.00520706176758"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>其他</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(753.498046875, 47.00390625)" id="flowchart-START-1393" class="node default http"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#e3f2fd !important;stroke:#1976d2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>📨 接收用户消息|handleChatStream</p></span></div></foreignObject></g></g><g transform="translate(753.498046875, 175.01171875)" id="flowchart-CHAT-1394" class="node default service"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#e8f5e8 !important;stroke:#388e3c !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🔄 启动聊天服务|runChatStream</p></span></div></foreignObject></g></g><g transform="translate(753.498046875, 403.01953125)" id="flowchart-MCP-1396" class="node default decision"><polygon style="fill:#fff9c4 !important;stroke:#f57f17 !important;stroke-width:3px !important" transform="translate(-139.00390625,139.00390625)" class="label-container" points="139.00390625,0 278.0078125,-139.00390625 139.00390625,-278.0078125 0,-139.00390625"></polygon><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🤖 初始化MCP代理|initMCPAgent</p></span></div></foreignObject></g></g><g transform="translate(628.4996738433838, 755.03125)" id="flowchart-NEED-1398" class="node default decision"><polygon style="fill:#fff9c4 !important;stroke:#f57f17 !important;stroke-width:3px !important" transform="translate(-139.00390625,139.00390625)" class="label-container" points="139.00390625,0 278.0078125,-139.00390625 139.00390625,-278.0078125 0,-139.00390625"></polygon><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🔍 检查是否需要工具|checkIfNeedsToolCall</p></span></div></foreignObject></g></g><g transform="translate(1327.500325202942, 1007.04296875)" id="flowchart-DIRECT-1400" class="node default llm"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fce4ec !important;stroke:#c2185b !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>💬 直接LLM对话|chain.stream</p></span></div></foreignObject></g></g><g transform="translate(598.498046875, 1007.04296875)" id="flowchart-PROCESS-1402" class="node default agent"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fff3e0 !important;stroke:#f57c00 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>⚡ MCP流式处理|processMessageStream</p></span></div></foreignObject></g></g><g transform="translate(179.4957685470581, 1135.05078125)" id="flowchart-ANALYZE-1406" class="node default agent"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fff3e0 !important;stroke:#f57c00 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🧠 分析用户意图|analyzeIntent</p></span></div></foreignObject></g></g><g transform="translate(179.4957685470581, 1363.05859375)" id="flowchart-LLM_ANALYZE-1408" class="node default llm"><rect height="102.01171875" width="260" y="-51.005859375" x="-130" style="fill:#fce4ec !important;stroke:#c2185b !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -36.005859375)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="72.01171875" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🤖 LLM意图分析|generateText + DeepSeek API</p></span></div></foreignObject></g></g><g transform="translate(179.4957685470581, 1615.0703125)" id="flowchart-TASKS-1410" class="node default agent"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fff3e0 !important;stroke:#f57c00 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>📋 解析为任务列表|parseLLMResponse</p></span></div></foreignObject></g></g><g transform="translate(758, 1135.05078125)" id="flowchart-EXECUTE-1412" class="node default agent"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fff3e0 !important;stroke:#f57c00 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>⚙️ 执行任务|executeIntentAnalysis</p></span></div></foreignObject></g></g><g transform="translate(758, 1363.05859375)" id="flowchart-TASK_TYPE-1414" class="node default decision"><polygon style="fill:#fff9c4 !important;stroke:#f57f17 !important;stroke-width:3px !important" transform="translate(-139.00390625,139.00390625)" class="label-container" points="139.00390625,0 278.0078125,-139.00390625 139.00390625,-278.0078125 0,-139.00390625"></polygon><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>📝 判断任务类型|executeTask</p></span></div></foreignObject></g></g><g transform="translate(498.4996747970581, 1615.0703125)" id="flowchart-TOOL_CALL-1416" class="node default agent"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fff3e0 !important;stroke:#f57c00 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🛠️ 调用工具|executeToolTask</p></span></div></foreignObject></g></g><g transform="translate(1068, 2601.02734375)" id="flowchart-SIMPLE-1418" class="node default agent"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fff3e0 !important;stroke:#f57c00 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>💭 简单LLM处理|executeSimpleTask</p></span></div></foreignObject></g></g><g transform="translate(498.4996747970581, 1743.078125)" id="flowchart-CLIENT-1420" class="node default tool"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>📡 MCP客户端调用|mcpClient.callTool</p></span></div></foreignObject></g></g><g transform="translate(498.4996747970581, 1871.0859375)" id="flowchart-WEBSOCKET-1422" class="node default tool"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🔌 WebSocket通信|WebSocket.send</p></span></div></foreignObject></g></g><g transform="translate(498.4996747970581, 2023.09765625)" id="flowchart-SERVER-1424" class="node default tool"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🖥️ MCP服务器处理|handleToolCallMessage</p></span></div></foreignObject></g></g><g transform="translate(498.4996747970581, 2151.10546875)" id="flowchart-REGISTRY-1426" class="node default tool"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>📚 获取工具实例|toolRegistry.getTool</p></span></div></foreignObject></g></g><g transform="translate(498.4996747970581, 2364.064453125)" id="flowchart-TOOL_ROUTE-1428" class="node default decision"><polygon style="fill:#fff9c4 !important;stroke:#f57f17 !important;stroke-width:3px !important" transform="translate(-123.955078125,123.955078125)" class="label-container" points="123.955078125,0 247.91015625,-123.955078125 123.955078125,-247.91015625 0,-123.955078125"></polygon><g transform="translate(-96.953125, -12.001953125)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="24.00390625" width="193.90625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000000 !important"><p>🎯 工具路由|根据toolName</p></span></div></foreignObject></g></g><g transform="translate(138, 2601.02734375)" id="flowchart-JOJO-1430" class="node default tool"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🎭 JoJo工具执行|JoJoTool._execute</p></span></div></foreignObject></g></g><g transform="translate(448, 2601.02734375)" id="flowchart-WEATHER-1432" class="node default tool"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🌤️ 天气工具执行|WeatherTool._execute</p></span></div></foreignObject></g></g><g transform="translate(758, 2601.02734375)" id="flowchart-OTHER-1434" class="node default tool"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🔧 其他工具执行|XxxTool._execute</p></span></div></foreignObject></g></g><g transform="translate(552.5003252029419, 2741.037109375)" id="flowchart-TOOL_RESULT-1436" class="node default tool"><rect height="54.00390625" width="257.9036407470703" y="-27.001953125" x="-128.95182037353516" style="fill:#f3e5f5 !important;stroke:#7b1fa2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-98.95182037353516, -12.001953125)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="24.00390625" width="197.9036407470703"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000000 !important"><p>✅ 工具结果返回|ToolResult</p></span></div></foreignObject></g></g><g transform="translate(1068, 2741.037109375)" id="flowchart-SIMPLE_LLM-1442" class="node default llm"><rect height="102.01171875" width="260" y="-51.005859375" x="-130" style="fill:#fce4ec !important;stroke:#c2185b !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -36.005859375)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="72.01171875" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🤖 简单任务LLM处理|generateText + DeepSeek API</p></span></div></foreignObject></g></g><g transform="translate(913, 2881.046875)" id="flowchart-FINAL-1444" class="node default agent"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fff3e0 !important;stroke:#f57c00 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🎯 生成最终响应|generateFinalResponse</p></span></div></foreignObject></g></g><g transform="translate(913, 3021.056640625)" id="flowchart-FINAL_LLM-1448" class="node default llm"><rect height="102.01171875" width="260" y="-51.005859375" x="-130" style="fill:#fce4ec !important;stroke:#c2185b !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -36.005859375)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="72.01171875" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>🤖 最终响应LLM生成|generateText + DeepSeek API</p></span></div></foreignObject></g></g><g transform="translate(913, 3161.06640625)" id="flowchart-STREAM-1450" class="node default agent"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fff3e0 !important;stroke:#f57c00 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>📡 创建流式输出|createTextStream</p></span></div></foreignObject></g></g><g transform="translate(1327.500325202942, 1135.05078125)" id="flowchart-DIRECT_STREAM-1452" class="node default llm"><rect height="78.0078125" width="260" y="-39.00390625" x="-130" style="fill:#fce4ec !important;stroke:#c2185b !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-100, -24.00390625)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="48.0078125" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel" style="color:#000000 !important"><p>📡 直接流式输出|LangChain stream</p></span></div></foreignObject></g></g><g transform="translate(1068, 3277.0722637176514)" id="flowchart-OUTPUT-1454" class="node default http"><rect height="54.00390625" width="234.10157775878906" y="-27.001953125" x="-117.05078887939453" style="fill:#e3f2fd !important;stroke:#1976d2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-87.05078887939453, -12.001953125)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="24.00390625" width="174.10157775878906"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000000 !important"><p>📤 发送给用户|res.write</p></span></div></foreignObject></g></g><g transform="translate(1068, 3381.076166152954)" id="flowchart-END-1458" class="node default http"><rect height="54.00390625" width="206.72525024414062" y="-27.001953125" x="-103.36262512207031" style="fill:#e3f2fd !important;stroke:#1976d2 !important;stroke-width:3px !important" class="basic label-container"></rect><g transform="translate(-73.36262512207031, -12.001953125)" style="color:#000000 !important" class="label"><rect></rect><foreignObject height="24.00390625" width="146.72525024414062"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000000 !important"><p>✅ 完成响应|res.end</p></span></div></foreignObject></g></g></g></g></g></svg>
