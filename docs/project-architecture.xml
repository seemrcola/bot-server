<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 883.4951782226562 1376.677490234375" style="max-width: 883.4951782226562px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1754101879435-u8lb4vyxe"><style>#mermaid-svg-1754101879435-u8lb4vyxe{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#a3a2a2;}#mermaid-svg-1754101879435-u8lb4vyxe .error-icon{fill:#5a1d1d;}#mermaid-svg-1754101879435-u8lb4vyxe .error-text{fill:#f48771;stroke:#f48771;}#mermaid-svg-1754101879435-u8lb4vyxe .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1754101879435-u8lb4vyxe .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1754101879435-u8lb4vyxe .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1754101879435-u8lb4vyxe .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1754101879435-u8lb4vyxe .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1754101879435-u8lb4vyxe .marker{fill:#a3a2a2;stroke:#a3a2a2;}#mermaid-svg-1754101879435-u8lb4vyxe .marker.cross{stroke:#a3a2a2;}#mermaid-svg-1754101879435-u8lb4vyxe svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1754101879435-u8lb4vyxe .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#a3a2a2;}#mermaid-svg-1754101879435-u8lb4vyxe .cluster-label text{fill:#e7e7e7;}#mermaid-svg-1754101879435-u8lb4vyxe .cluster-label span,#mermaid-svg-1754101879435-u8lb4vyxe p{color:#e7e7e7;}#mermaid-svg-1754101879435-u8lb4vyxe .label text,#mermaid-svg-1754101879435-u8lb4vyxe span,#mermaid-svg-1754101879435-u8lb4vyxe p{fill:#a3a2a2;color:#a3a2a2;}#mermaid-svg-1754101879435-u8lb4vyxe .node rect,#mermaid-svg-1754101879435-u8lb4vyxe .node circle,#mermaid-svg-1754101879435-u8lb4vyxe .node ellipse,#mermaid-svg-1754101879435-u8lb4vyxe .node polygon,#mermaid-svg-1754101879435-u8lb4vyxe .node path{fill:#232222;stroke:#bfbfbf;stroke-width:1px;}#mermaid-svg-1754101879435-u8lb4vyxe .flowchart-label text{text-anchor:middle;}#mermaid-svg-1754101879435-u8lb4vyxe .node .label{text-align:center;}#mermaid-svg-1754101879435-u8lb4vyxe .node.clickable{cursor:pointer;}#mermaid-svg-1754101879435-u8lb4vyxe .arrowheadPath{fill:#dcdddd;}#mermaid-svg-1754101879435-u8lb4vyxe .edgePath .path{stroke:#a3a2a2;stroke-width:2.0px;}#mermaid-svg-1754101879435-u8lb4vyxe .flowchart-link{stroke:#a3a2a2;fill:none;}#mermaid-svg-1754101879435-u8lb4vyxe .edgeLabel{background-color:#23222299;text-align:center;}#mermaid-svg-1754101879435-u8lb4vyxe .edgeLabel rect{opacity:0.5;background-color:#23222299;fill:#23222299;}#mermaid-svg-1754101879435-u8lb4vyxe .labelBkg{background-color:rgba(35, 34, 34, 0.5);}#mermaid-svg-1754101879435-u8lb4vyxe .cluster rect{fill:#6e6e6e;stroke:#3675a2;stroke-width:1px;}#mermaid-svg-1754101879435-u8lb4vyxe .cluster text{fill:#e7e7e7;}#mermaid-svg-1754101879435-u8lb4vyxe .cluster span,#mermaid-svg-1754101879435-u8lb4vyxe p{color:#e7e7e7;}#mermaid-svg-1754101879435-u8lb4vyxe div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#128cff;border:1px solid #3675a2;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1754101879435-u8lb4vyxe .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#a3a2a2;}#mermaid-svg-1754101879435-u8lb4vyxe :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-1754101879435-u8lb4vyxe .client&gt;*{fill:#f9f9f9!important;stroke:#333!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .client span{fill:#f9f9f9!important;stroke:#333!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .client tspan{fill:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .api&gt;*{fill:#e3f2fd!important;stroke:#1d69ab!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .api span{fill:#e3f2fd!important;stroke:#1d69ab!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .api tspan{fill:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .service&gt;*{fill:#e8f5e9!important;stroke:#3a7d3e!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .service span{fill:#e8f5e9!important;stroke:#3a7d3e!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .service tspan{fill:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .agent&gt;*{fill:#fff3e0!important;stroke:#e65100!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .agent span{fill:#fff3e0!important;stroke:#e65100!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .agent tspan{fill:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .comms&gt;*{fill:#e1f5fe!important;stroke:#0277bd!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .comms span{fill:#e1f5fe!important;stroke:#0277bd!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .comms tspan{fill:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .llm&gt;*{fill:#fce4ec!important;stroke:#ad1457!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .llm span{fill:#fce4ec!important;stroke:#ad1457!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .llm tspan{fill:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .tool_infra&gt;*{fill:#f3e5f5!important;stroke:#6a1b9a!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .tool_infra span{fill:#f3e5f5!important;stroke:#6a1b9a!important;stroke-width:2px!important;color:black!important;}#mermaid-svg-1754101879435-u8lb4vyxe .tool_infra tspan{fill:black!important;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1754101879435-u8lb4vyxe_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1754101879435-u8lb4vyxe_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1754101879435-u8lb4vyxe_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1754101879435-u8lb4vyxe_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g id="subGraph7" class="cluster default flowchart-label"><rect height="560.6774597167969" width="652.6318359375" y="799.9999847412109" x="141.31835174560547" ry="0" rx="0" style=""/><g transform="translate(393.1648712158203, 799.9999847412109)" class="cluster-label"><foreignObject height="22.5" width="148.9387969970703"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">外部依赖 &amp; 工具服务</span></div></foreignObject></g></g><g id="subGraph4" class="cluster default flowchart-label"><rect height="574.9999847412109" width="734.2040901184082" y="152.5" x="0" ry="0" rx="0" style=""/><g transform="translate(292.6391544342041, 152.5)" class="cluster-label"><foreignObject height="22.5" width="148.92578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">应用服务: Bot Server</span></div></foreignObject></g></g><g id="客户端" class="cluster default flowchart-label"><rect height="83.75" width="116.796875" y="0" x="206.5445957183838" ry="0" rx="0" style=""/><g transform="translate(240.9423828125, 0)" class="cluster-label"><foreignObject height="22.5" width="48.00130081176758"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">客户端</span></div></foreignObject></g></g><g id="subGraph5" class="cluster default flowchart-label"><rect height="151.9274673461914" width="264.7200469970703" y="824.9999847412109" x="161.31835174560547" ry="0" rx="0" style=""/><g transform="translate(221.49087524414062, 824.9999847412109)" class="cluster-label"><foreignObject height="22.5" width="144.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">LLM 大语言模型服务</span></div></foreignObject></g></g><g id="subGraph6" class="cluster default flowchart-label"><rect height="510.6774597167969" width="297.87110900878906" y="824.9999847412109" x="476.0790786743164" ry="0" rx="0" style=""/><g transform="translate(476.9417266845703, 824.9999847412109)" class="cluster-label"><foreignObject height="22.5" width="296.14581298828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">工具服务 (Tooling Servers via WebSocket)</span></div></foreignObject></g></g><g id="subGraph1" class="cluster default flowchart-label"><rect height="106.24999618530273" width="195.31249237060547" y="177.5" x="167.28678703308105" ry="0" rx="0" style=""/><g transform="translate(182.04590034484863, 177.5)" class="cluster-label"><foreignObject height="22.5" width="165.7942657470703"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Layer 1: 接入层 (HTTP)</span></div></foreignObject></g></g><g id="subGraph2" class="cluster default flowchart-label"><rect height="106.24999618530273" width="174.57032012939453" y="333.74999618530273" x="177.65787315368652" ry="0" rx="0" style=""/><g transform="translate(193.31543159484863, 333.74999618530273)" class="cluster-label"><foreignObject height="22.5" width="143.2552032470703"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Layer 2: 业务逻辑层</span></div></foreignObject></g></g><g id="subGraph3" class="cluster default flowchart-label"><rect height="212.49999237060547" width="694.2040901184082" y="489.99999237060547" x="20" ry="0" rx="0" style=""/><g transform="translate(238.84359169006348, 489.99999237060547)" class="cluster-label"><foreignObject height="22.5" width="256.51690673828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Layer 3: 代理核心 (MCP Agent Core)</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-F" id="L-E-F-0" d="M203.566,564.878L188.813,570.106C174.059,575.335,144.552,585.793,129.799,594.305C115.046,602.817,115.046,609.383,115.046,612.667L115.046,615.95"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-G" id="L-E-G-0" d="M326.32,552.181L376.102,559.525C425.885,566.87,525.45,581.56,575.232,592.188C625.015,602.817,625.015,609.383,625.015,612.667L625.015,615.95"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-H" id="L-E-H-0" d="M280.156,571.25L282.41,575.417C284.663,579.583,289.171,587.917,291.425,595.367C293.678,602.817,293.678,609.383,293.678,612.667L293.678,615.95"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-U LE-B" id="L-U-B-0" d="M264.943,58.75L264.943,62.917C264.943,67.083,264.943,75.417,264.943,85.313C264.943,95.208,264.943,106.667,264.943,118.125C264.943,129.583,264.943,141.042,264.943,150.938C264.943,160.833,264.943,169.167,264.943,176.617C264.943,184.067,264.943,190.633,264.943,193.917L264.943,197.2"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M264.943,258.75L264.943,262.917C264.943,267.083,264.943,275.417,264.943,283.75C264.943,292.083,264.943,300.417,264.943,308.75C264.943,317.083,264.943,325.417,264.943,332.867C264.943,340.317,264.943,346.883,264.943,350.167L264.943,353.45"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-E" id="L-C-E-0" d="M264.943,415L264.943,419.167C264.943,423.333,264.943,431.667,264.943,440C264.943,448.333,264.943,456.667,264.943,465C264.943,473.333,264.943,481.667,264.943,489.117C264.943,496.567,264.943,503.133,264.943,506.417L264.943,509.7"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-K" id="L-J-K-0" d="M625.015,929.089L625.015,937.062C625.015,945.035,625.015,960.981,625.015,974.683C625.015,988.386,625.015,999.844,625.015,1010.419C625.015,1020.994,625.015,1030.686,625.015,1035.532L625.015,1040.377"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-L" id="L-K-L-0" d="M625.015,1101.927L625.015,1106.094C625.015,1110.261,625.015,1118.594,625.015,1126.044C625.015,1133.494,625.015,1140.061,625.015,1143.344L625.015,1146.627"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-M" id="L-L-M-0" d="M625.015,1208.177L625.015,1212.344C625.015,1216.511,625.015,1224.844,625.015,1232.294C625.015,1239.744,625.015,1246.311,625.015,1249.594L625.015,1252.877"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I" id="L-H-I-0" d="M293.678,677.5L293.678,681.667C293.678,685.833,293.678,694.167,293.678,702.5C293.678,710.833,293.678,719.167,293.678,729.375C293.678,739.583,293.678,751.667,293.678,763.75C293.678,775.833,293.678,787.917,293.678,798.125C293.678,808.333,293.678,816.667,293.678,824.117C293.678,831.567,293.678,838.133,293.678,841.417L293.678,844.7"/><path marker-end="url(#mermaid-svg-1754101879435-u8lb4vyxe_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-J" id="L-G-J-0" d="M625.015,677.5L625.015,681.667C625.015,685.833,625.015,694.167,625.015,702.5C625.015,710.833,625.015,719.167,625.015,729.375C625.015,739.583,625.015,751.667,625.015,763.75C625.015,775.833,625.015,787.917,625.015,798.125C625.015,808.333,625.015,816.667,625.015,827.923C625.015,839.18,625.015,853.359,625.015,860.449L625.015,867.539"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(264.9430332183838, 118.125)" class="edgeLabel"><g transform="translate(-84.57032012939453, -9.375)" class="label"><foreignObject height="18.75" width="169.14064025878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">POST /api/chat/stream</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(625.0146331787109, 1011.3024520874023)" class="edgeLabel"><g transform="translate(-38.942054748535156, -9.375)" class="label"><foreignObject height="18.75" width="77.88410949707031"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">WebSocket</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(293.6783752441406, 763.7499847412109)" class="edgeLabel"><g transform="translate(-29.817707061767578, -11.25)" class="label"><foreignObject height="22.5" width="59.635414123535156"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">API 调用</span></div></foreignObject></g></g><g transform="translate(625.0146331787109, 763.7499847412109)" class="edgeLabel"><g transform="translate(-53.33333206176758, -11.25)" class="label"><foreignObject height="22.5" width="106.66666412353516"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">通过Client调用</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(625.0146331787109, 900.9637184143066)" id="flowchart-J-825" class="node default comms flowchart-label"><rect height="56.25" width="180.0325469970703" y="-28.125" x="-90.01627349853516" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-82.51627349853516, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="165.0325469970703"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">MCPClient<br />(Agent端的工具客户端)</span></div></foreignObject></g></g><g transform="translate(625.0146331787109, 1073.8024501800537)" id="flowchart-K-826" class="node default tool_infra flowchart-label"><rect height="56.25" width="106.75129699707031" y="-28.125" x="-53.375648498535156" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-45.875648498535156, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="91.75129699707031"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">MCPServer<br />(工具服务端)</span></div></foreignObject></g></g><g transform="translate(625.0146331787109, 1180.0524463653564)" id="flowchart-L-827" class="node default tool_infra flowchart-label"><rect height="56.25" width="106.75129699707031" y="-28.125" x="-53.375648498535156" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-45.875648498535156, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="91.75129699707031"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ToolRegistry<br />(工具注册表)</span></div></foreignObject></g></g><g transform="translate(625.0146331787109, 1284.4274444580078)" id="flowchart-M-828" class="node default tool_infra flowchart-label"><rect height="52.5" width="227.87110900878906" y="-26.25" x="-113.93555450439453" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-106.43555450439453, -18.75)" style="" class="label"><rect/><foreignObject height="37.5" width="212.87110900878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-puzzle-piece"></i> Tools<br />(JoJoTool, WeatherTool, etc.)</span></div></foreignObject></g></g><g transform="translate(293.6783752441406, 900.9637184143066)" id="flowchart-I-823" class="node default llm flowchart-label"><path transform="translate(-97.36002349853516,-50.963736047280285)" d="M 0,15.225824031520192 a 97.36002349853516,15.225824031520192 0,0,0 194.7200469970703 0 a 97.36002349853516,15.225824031520192 0,0,0 -194.7200469970703 0 l 0,71.47582403152019 a 97.36002349853516,15.225824031520192 0,0,0 194.7200469970703 0 l 0,-71.47582403152019" style=""/><g transform="translate(-89.86002349853516, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="179.7200469970703"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-brain"></i> Large Language Model<br />(例如 DeepSeek, OpenAI)</span></div></foreignObject></g></g><g transform="translate(264.9430332183838, 543.1249904632568)" id="flowchart-E-808" class="node default agent flowchart-label"><rect height="56.25" width="122.75390625" y="-28.125" x="-61.376953125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-53.876953125, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="107.75390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">MCPAgent<br />(智能代理核心)</span></div></foreignObject></g></g><g transform="translate(115.04557037353516, 649.3749866485596)" id="flowchart-F-809" class="node default agent flowchart-label"><rect height="56.25" width="120.09114074707031" y="-28.125" x="-60.045570373535156" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-52.545570373535156, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="105.09114074707031"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">IntentAnalyzer<br />(意图分析器)</span></div></foreignObject></g></g><g transform="translate(625.0146331787109, 649.3749866485596)" id="flowchart-G-810" class="node default agent flowchart-label"><rect height="56.25" width="108.37891387939453" y="-28.125" x="-54.189456939697266" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-46.689456939697266, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="93.37891387939453"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">TaskExecutor<br />(任务执行器)</span></div></foreignObject></g></g><g transform="translate(293.6783752441406, 649.3749866485596)" id="flowchart-H-811" class="node default agent flowchart-label"><rect height="56.25" width="137.17447662353516" y="-28.125" x="-68.58723831176758" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-61.08723831176758, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="122.17447662353516"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">LLMNLPProcessor<br />(LLM处理器)</span></div></foreignObject></g></g><g transform="translate(264.9430332183838, 386.8749942779541)" id="flowchart-C-806" class="node default service flowchart-label"><rect height="56.25" width="104.57032012939453" y="-28.125" x="-52.285160064697266" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-44.785160064697266, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="89.57032012939453"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Chat Service<br />(聊天服务)</span></div></foreignObject></g></g><g transform="translate(264.9430332183838, 230.62499809265137)" id="flowchart-B-804" class="node default api flowchart-label"><rect height="56.25" width="125.3125" y="-28.125" x="-62.65625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-55.15625, -20.625)" style="" class="label"><rect/><foreignObject height="41.25" width="110.3125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Chat Controller<br />(聊天控制器)</span></div></foreignObject></g></g><g transform="translate(264.9430332183838, 41.875)" id="flowchart-U-802" class="node default client flowchart-label"><rect height="33.75" width="46.796875" y="-16.875" x="-23.3984375" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-15.8984375, -9.375)" style="" class="label"><rect/><foreignObject height="18.75" width="31.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><i class="fa fa-user"></i> User</span></div></foreignObject></g></g><g transform="translate(374.0901679992676, 41.875)" id="flowchart-L1-803" class="node default default flowchart-label"><rect height="33.75" width="31.497394561767578" y="-16.875" x="-15.748697280883789" ry="0" rx="0" style="fill:#fafafa;stroke:#ccc;" class="basic label-container"/><g transform="translate(-8.248697280883789, -9.375)" style="" class="label"><rect/><foreignObject height="18.75" width="16.497394561767578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">L1</span></div></foreignObject></g></g><g transform="translate(455.58756256103516, 41.875)" id="flowchart-L2-805" class="node default default flowchart-label"><rect height="33.75" width="31.497394561767578" y="-16.875" x="-15.748697280883789" ry="0" rx="0" style="fill:#fafafa;stroke:#ccc;" class="basic label-container"/><g transform="translate(-8.248697280883789, -9.375)" style="" class="label"><rect/><foreignObject height="18.75" width="16.497394561767578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">L2</span></div></foreignObject></g></g><g transform="translate(537.0849571228027, 41.875)" id="flowchart-L3-807" class="node default default flowchart-label"><rect height="33.75" width="31.497394561767578" y="-16.875" x="-15.748697280883789" ry="0" rx="0" style="fill:#fafafa;stroke:#ccc;" class="basic label-container"/><g transform="translate(-8.248697280883789, -9.375)" style="" class="label"><rect/><foreignObject height="18.75" width="16.497394561767578"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">L3</span></div></foreignObject></g></g><g transform="translate(657.9247989654541, 41.875)" id="flowchart-LLM_Provider-822" class="node default default flowchart-label"><rect height="33.75" width="110.18228912353516" y="-16.875" x="-55.09114456176758" ry="0" rx="0" style="fill:#fafafa;stroke:#ccc;" class="basic label-container"/><g transform="translate(-47.59114456176758, -9.375)" style="" class="label"><rect/><foreignObject height="18.75" width="95.18228912353516"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">LLM_Provider</span></div></foreignObject></g></g><g transform="translate(815.2555255889893, 41.875)" id="flowchart-Tool_Servers-824" class="node default default flowchart-label"><rect height="33.75" width="104.47916412353516" y="-16.875" x="-52.23958206176758" ry="0" rx="0" style="fill:#fafafa;stroke:#ccc;" class="basic label-container"/><g transform="translate(-44.73958206176758, -9.375)" style="" class="label"><rect/><foreignObject height="18.75" width="89.47916412353516"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Tool_Servers</span></div></foreignObject></g></g></g></g></g></svg>
